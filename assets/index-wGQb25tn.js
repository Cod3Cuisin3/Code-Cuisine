(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const m=()=>{document.addEventListener("mousedown",p)},p=n=>{const e=document.getElementById("recipeModal"),o=document.querySelector("button[data-id]");!e.contains(n.target)&&n.target!==o&&(e.style.display="none")},f=async()=>{try{const e=await fetch("https://www.themealdb.com/api/json/v1/1/filter.php?a=Jamaican");if(!e.ok)throw new Error(`Bad Fetch responded with ${e.status}`);const o=await e.json();console.log(o);const s=document.getElementById("food");o.meals.forEach(t=>{h(t,s)})}catch(n){console.error(`${n.name}: ${n.message}`)}},h=(n,e)=>{const{strMeal:o,strMealThumb:s,idMeal:t}=n,c=document.createElement("h3");c.innerHTML=o;const r=document.createElement("img");r.src=s,r.alt=o;const a=document.createElement("button");a.dataset.id=t,a.textContent="Recipe",a.addEventListener("click",y);const i=document.createElement("li");i.append(c,r,a),e.appendChild(i)},y=async n=>{const e=n.target.dataset.id;console.log(`Meal ID: ${e}`);try{const o=`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e}`,s=await fetch(o);if(!s.ok)throw new Error(`Bad fetch ${s.status}`);const t=await s.json();console.log("Full Recipe:",t);const{strMeal:c,strInstructions:r,strYoutube:a}=t.meals[0],i=document.getElementById("recipeModal");i.innerHTML="";const l=document.createElement("h2");l.innerHTML=c,l.style.fontFamily="Cursive";const d=document.createElement("p");d.innerHTML=r,d.style.fontFamily="Cursive";const u=g(a);u.classList.add("youtube-button"),i.append(l,d,u),i.style.display="block"}catch(o){console.error(`${o.name},${o.message}`)}},g=n=>{const e=document.createElement("a");e.href=n,e.target="_blank";const o=document.createElement("button");return o.textContent="YouTube",o.classList.add("youtube-button"),e.appendChild(o),e};document.addEventListener("DOMContentLoaded",()=>{const n=new Audio("./src/backgroundMusic.mp3"),e=()=>{n.play(),n.loop=!0,document.removeEventListener("click",e)};document.addEventListener("click",e)});f();m();
