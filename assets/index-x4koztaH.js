(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(e){if(e.ep)return;e.ep=!0;const c=o(e);fetch(e.href,c)}})();const m=()=>{document.addEventListener("mousedown",p)},p=n=>{const t=document.getElementById("recipeModal"),o=document.querySelector("button[data-id]");!t.contains(n.target)&&n.target!==o&&(t.style.display="none")},f=async()=>{try{const t=await fetch("https://www.themealdb.com/api/json/v1/1/filter.php?a=Jamaican");if(!t.ok)throw new Error(`Bad Fetch responded with ${t.status}`);const o=await t.json();console.log(o);const r=document.getElementById("food");o.meals.forEach(e=>h(e,r))}catch(n){console.error(`${n.name}: ${n.message}`)}},h=(n,t)=>{const{strMeal:o,strMealThumb:r,idMeal:e}=n,c=document.createElement("h3");c.innerHTML=o;const s=document.createElement("img");s.src=r,s.alt=o;const a=document.createElement("button");a.dataset.id=e,a.textContent="Recipe",a.addEventListener("click",y);const i=document.createElement("li");i.append(c,s,a),t.appendChild(i)},y=async n=>{const t=n.target.dataset.id;console.log(`Meal ID: ${t}`);try{const o=`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${t}`,r=await fetch(o);if(!r.ok)throw new Error(`Bad fetch ${r.status}`);const e=await r.json();console.log("Full Recipe:",e);const{strMeal:c,strInstructions:s,strYoutube:a}=e.meals[0],i=document.getElementById("recipeModal");i.innerHTML="";const l=document.createElement("h2");l.innerHTML=c,l.style.fontFamily="Cursive";const d=document.createElement("p");d.innerHTML=s,d.style.fontFamily="Cursive";const u=g(a);u.classList.add("youtube-button"),i.append(l,d,u),i.style.display="block"}catch(o){console.error(`${o.name},${o.message}`)}},g=n=>{const t=document.createElement("a");t.href=n,t.target="_blank";const o=document.createElement("button");return o.textContent="YouTube",o.classList.add("youtube-button"),t.appendChild(o),t};document.addEventListener("DOMContentLoaded",()=>{const n=new Audio("./src/backgroundMusic.mp3");n.play(),n.autoplay=!0,n.loop=!0});f();m();
